<ion-header>
	<ion-toolbar>
		<ion-buttons slot="start">
			<ion-menu-button></ion-menu-button>
			<ion-back-button
					defaultHref="/store/{{projectContext?.storeId}}/project/{{projectContext?.projectId}}/queries?folder={{queryFolderPath}}"
			></ion-back-button>
		</ion-buttons>
		<ion-title>Query</ion-title>
		<ion-buttons slot="end">
			<ion-button class="ion-padding-horizontal" slot="end"
						[disabled]="queryState?.isSaving"
						[fill]="isChanged ? 'solid' : 'clear'"
						[color]="isChanged ? 'danger' : 'medium'"
						title="Save changes"
						(click)="saveChanges()"
			>
				<ion-icon name="save-outline" slot="start"></ion-icon>
				<ion-label *ngIf="!queryState?.isSaving">Save</ion-label>
				<ion-label *ngIf="queryState?.isSaving">Saving...</ion-label>
			</ion-button>
		</ion-buttons>
	</ion-toolbar>
</ion-header>

<ion-content color="light">

	<ion-grid>
		<ion-row>
			<ion-col size="12">
				<ion-item>
					<ion-input [placeholder]="queryNamePlaceholder" [value]="queryState?.title"
							   (ionChange)="queryTitleChanged($event)"
							   readonly="false"></ion-input>
					<!--			<ion-select interface="popover" slot="end">-->
					<!--				<ion-select-option value="q1">Query #1</ion-select-option>-->
					<!--				<ion-select-option value="q2">Query #2</ion-select-option>-->
					<!--				<ion-select-option value="q3">Query #3</ion-select-option>-->
					<!--				<ion-select-option value="q4">Query #4</ion-select-option>-->
					<!--			</ion-select>-->
				</ion-item>
			</ion-col>
		</ion-row>
	</ion-grid>

	<datatug-sql-query *ngIf="queryState?.queryType === 'SQL'"></datatug-sql-query>
</ion-content>
