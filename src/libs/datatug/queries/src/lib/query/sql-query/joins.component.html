<ion-card>
	<ion-item *ngIf="queryAst?.from">
		<ion-checkbox checked="true" disabled slot="start"></ion-checkbox>
		<ion-label title="FROM">
			<span *ngIf="queryAst.from.schema">[{{queryAst.from.schema}}].</span>|{{queryAst.from.name}}|
		</ion-label>
		<ion-badge color="medium" *ngIf="queryAst.from.alias">{{queryAst.from.alias}}</ion-badge>
		<ion-buttons slot="end">
			<ion-button>
				<ion-icon name="link-outline"></ion-icon>
			</ion-button>
		</ion-buttons>
	</ion-item>
	<ng-container *ngIf="queryAst?.joins">
		<ion-item *ngFor="let join of queryAst.joins; trackBy: trackByIndex">
			<ion-checkbox slot="start" [checked]="!join.disabled"
						  (ionChange)="joinCheckChanged($event, join)"></ion-checkbox>
			<ion-label><b>{{join.alias}}</b> -
				<ion-text color="medium">{{join.name}}</ion-text>
			</ion-label>
			<ion-buttons slot="end">
				<ion-button>
					<ion-icon name="link-outline"></ion-icon>
				</ion-button>
			</ion-buttons>
		</ion-item>
	</ng-container>
</ion-card>

<ion-card *ngIf="this.suggestedJoins?.length">
	<ion-list>
		<ion-item *ngFor="let sj of suggestedJoins">
			<ion-label *ngIf="sj.to">{{sj.to.recordset.schema}}.{{sj.to.recordset.name}}</ion-label>
			<ion-label *ngIf="!sj.to">[{{sj|json}}]</ion-label>
			<ion-buttons slot="end">
				<ion-button color="medium" (click)="addJoin(sj, 'left')" title="Add LEFT join">
					<ion-icon name="arrow-back-outline"></ion-icon>
				</ion-button>
				<ion-button color="medium" (click)="addJoin(sj, 'inner')" title="Add INNER join">
					<ion-icon name="reorder-two-outline"></ion-icon>
				</ion-button>
				<ion-button color="medium" (click)="addJoin(sj, 'right')" title="Add RIGHT join">
					<ion-icon name="arrow-forward-outline"></ion-icon>
				</ion-button>
			</ion-buttons>
		</ion-item>
	</ion-list>
</ion-card>
