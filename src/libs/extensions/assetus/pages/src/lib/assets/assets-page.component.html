<sneat-team-context #teamPageContext page="assets-page"></sneat-team-context>
<ion-header>
	<ion-toolbar color="light" class="with-back-button with-end-buttons">
		<ion-buttons slot="start">
			<ion-back-button [defaultHref]="defaultBackUrl"></ion-back-button>
		</ion-buttons>
		<sneat-team-page-title
			[team]="team"
			generalTitle="Assets"
			icon="🏡"
			[titlesByTeamType]="{
				personal: 'Personal assets',
				family: 'Family assets'
			}">
		</sneat-team-page-title>
		<ion-buttons slot="end">
			<ion-button [disabled]="!team" (click)="goNew()"
							title="Add asset">
				<ion-icon name="add"></ion-icon>
			</ion-button>
		</ion-buttons>
	</ion-toolbar>
</ion-header>
<ion-content class="cardy">
	<!--<div class="segment">-->
	<!--<ion-segment [(ngModel)]="segment">-->
	<!--<ion-segment-button value="all">List</ion-segment-button>-->
	<!--<ion-segment-button value="byCategory">By category</ion-segment-button>-->
	<!--</ion-segment>-->
	<!--</div>-->
	<!--    <ion-list *ngIf="segment === 'all' && assets">-->
	<!--        <ion-item button *ngFor="let asset of assets; trackBy: trackById" (click)="goAsset(asset)">-->
	<!--            <ion-label>-->
	<!--                <h2>{{asset.title}}</h2>-->
	<!--                <p>Category: {{asset.categoryId}}</p>-->
	<!--            </ion-label>-->
	<!--            <ion-buttons slot="end">-->
	<!--                <ion-button color="medium" (click)="add2Asset($event)">-->
	<!--                    <ion-icon name="add"></ion-icon>-->
	<!--                </ion-button>-->
	<!--            </ion-buttons>-->
	<!--        </ion-item>-->
	<!--    </ion-list>-->
	<ion-card *ngIf="segment === 'byCategory'">
		<ion-item-group>
			<ion-item-divider color="light">
				<ion-label>Real estate</ion-label>
				<ion-buttons slot="end">
					<ion-button color="medium" title="Add property" (click)="goNew('add-dwelling')">
						<ion-icon name="add"></ion-icon>
					</ion-button>
				</ion-buttons>
			</ion-item-divider>
			<ng-container *ngIf="assets">
				<sneat-assets-list category="real_estate" [assets]="assets" [team]="team"></sneat-assets-list>
			</ng-container>
		</ion-item-group>
		<ion-item-group *ngIf="team?.type === 'family'">
			<ion-item-divider color="light">
				<ion-label>Vehicles</ion-label>
				<ion-buttons slot="end">
					<ion-button color="medium" title="Add vehicle" (click)="goNew('add-vehicle')">
						<ion-icon name="add"></ion-icon>
					</ion-button>
				</ion-buttons>
			</ion-item-divider>
			<ng-container *ngIf="assets">
				<sneat-assets-list category="vehicles" [assets]="assets" [team]="team"></sneat-assets-list>
			</ng-container>
		</ion-item-group>
		<ion-item-group>
			<ion-item-divider color="light">
				<ion-label color="medium">Other</ion-label>
				<!--                <ion-buttons slot="end">-->
				<!--                    <ion-button color="medium" title="Add other asset">-->
				<!--                        <ion-icon name="add"></ion-icon>-->
				<!--                    </ion-button>-->
				<!--                </ion-buttons>-->
			</ion-item-divider>
			<ion-item>
				<ion-label color="medium">Not implemented yet.</ion-label>
			</ion-item>
		</ion-item-group>
	</ion-card>
</ion-content>
