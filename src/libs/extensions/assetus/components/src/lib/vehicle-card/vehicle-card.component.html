<ion-card>
	<ion-list>
		<sneat-country-selector [country]="asset?.dto?.countryID"
														label="Country of registration"
														(countryChange)="countryChanged($event)"
		></sneat-country-selector>
		<ion-item>
			<ion-input label="Registration #" [(ngModel)]="regNumber" placeholder="###-CO-#####"></ion-input>
			<!--            <ion-button fill="outline">Validate</ion-button>-->
			<ion-buttons slot="end">
				<ion-button [disabled]="!asset?.dto?.regNumber" color="primary">Look up</ion-button>
			</ion-buttons>
		</ion-item>
	</ion-list>
</ion-card>

<sneat-make-model-card *ngIf="asset?.dto?.type && asset?.dto?.countryID"
											 [assetType]="asset?.dto?.type"
											 [make]="asset?.dto?.make"
											 [model]="asset?.dto?.model"
											 (makeChange)="makeChanged($event)"
											 (modelChange)="modelChanged($event)"
></sneat-make-model-card>

<sneat-asset-possession-card *ngIf="asset?.dto?.model" [(asset)]="asset"></sneat-asset-possession-card>


<ion-card *ngIf="asset?.dto?.model">

	<ion-item *ngIf="!asset?.brief?.regNumber" class="with-buttons" tappable (click)="editRegNumber()">
		<ion-label color="danger">Reg #</ion-label>
		<ion-buttons slot="end">
			<ion-button color="medium" (click)="editRegNumber()">
				<ion-icon name="create"></ion-icon>
			</ion-button>
		</ion-buttons>
	</ion-item>
	<ion-item *ngIf="regNumber" class="with-buttons">
		<ion-label>Reg #</ion-label>
		<ion-input *ngIf="regNumber" [(ngModel)]="regNumber" style="font-weight: bold;" readonly></ion-input>
	</ion-item>
</ion-card>

<ion-card *ngIf="asset?.dto?.model">
	<ion-item-divider>
		<ion-label>Engine</ion-label>
	</ion-item-divider>
	<sneat-vehicle-engine>

	</sneat-vehicle-engine>
</ion-card>

