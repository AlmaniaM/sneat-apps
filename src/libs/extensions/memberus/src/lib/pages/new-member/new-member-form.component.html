<form
	[formGroup]="addMemberForm"
	(ngSubmit)="submit()"
>
	<sneat-person-form [team]="team"
										 [disabled]="disabled"
										 [relatedPerson]="relatedPerson"
										 (relatedPersonChange)="onRelatedPersonChanged($event)"
	></sneat-person-form>

	<ion-card *ngIf="addMemberForm.errors">
		<ion-card-header color="danger">
			<ion-card-title>Errors</ion-card-title>
		</ion-card-header>
		<ion-card-content>
			{{addMemberForm.errors|json}}
		</ion-card-content>
	</ion-card>

	<div class="ion-padding" *ngIf="isPersonFormReady">
		<ion-button
			(click)="submit()"
			[disabled]="!team || addMemberForm.disabled || !addMemberForm.valid"
		>
			<ion-spinner
				name="lines-small"
				*ngIf="addMemberForm.disabled"
				slot="start"
			></ion-spinner>
			<ion-label>Add member</ion-label>
		</ion-button>
	</div>

</form>

