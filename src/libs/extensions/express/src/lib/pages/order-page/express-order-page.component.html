<ion-header>
	<ion-toolbar color="light">
		<ion-buttons slot="start">
			<ion-back-button defaultHref="/space/{{team.type}}/{{team.id}}/orders"></ion-back-button>
		</ion-buttons>
		<ion-title>Order</ion-title>
	</ion-toolbar>
</ion-header>
<ion-content>
	<sneat-express-order-card [team]="team" [order]="order" [hideDispatchers]="true"></sneat-express-order-card>

	<ion-segment [(ngModel)]="tab">
		<ion-segment-button value="containers">
			<ion-label>
				ðŸ“¦ Containers
				<ion-badge color="light"
									 *ngIf="order?.dto?.containers?.length">
					<ion-text color="medium">{{order?.dto?.containers?.length}}</ion-text>
				</ion-badge>
			</ion-label>
		</ion-segment-button>
		<ion-segment-button value="dispatchers">
			<ion-label>
				ðŸ›’ Dispatchers
				<ion-badge color="light" *ngIf="numberOfDispatchers">
					<ion-text color="medium">{{numberOfDispatchers}}</ion-text>
				</ion-badge>
			</ion-label>
		</ion-segment-button>
		<ion-segment-button value="truckers">
			<ion-label>
				ðŸš› Trucking
				<!--							<ion-badge color="light" *ngIf="order?.dto?.segments?.length">{{order?.dto?.segments?.length}}</ion-badge>-->
			</ion-label>
		</ion-segment-button>
	</ion-segment>

	<div class="ion-padding-horizontal">
		<ion-grid class="ion-grid-layout">
			<ion-row>
				<ion-col size="4" style="text-align: center">
					<ion-button size="small" fill="clear" color="medium" title="Add container"
											(click)="addContainer()">
						<ion-icon name="add-outline" slot="start"></ion-icon>
						<ion-label>Add container</ion-label>
					</ion-button>
				</ion-col>
				<ion-col size="4" style="text-align: center">
					<ion-button size="small" fill="clear" color="medium" title="Add dispatcher"
											(click)="addDispatcher()">
						<ion-icon name="add-outline" slot="start"></ion-icon>
						<ion-label>Add dispatch location</ion-label>
					</ion-button>
				</ion-col>
				<ion-col size="4" style="text-align: center">
					<ion-button size="small" fill="clear" color="medium" title="Add truck" (click)="addSegment()">
						<ion-icon name="add-outline" slot="start"></ion-icon>
						<ion-label>Add segment</ion-label>
					</ion-button>
				</ion-col>
			</ion-row>
		</ion-grid>
	</div>

	<!--	<ion-card *ngIf="tab === 'notes'">-->
	<!--		<ion-card-content>-->
	<!--			<ion-item>-->
	<!--				<ion-label position="stacked">Visible only to employees of {{team?.brief?.title}}</ion-label>-->
	<!--				<ion-textarea placeholder="text"></ion-textarea>-->
	<!--			</ion-item>-->
	<!--			<ion-button (click)="saveNotes($event)">Save notes</ion-button>-->
	<!--		</ion-card-content>-->
	<!--	</ion-card>-->

	<!--	<sneat-order-shipping-points-card-->
	<!--		*ngIf="tab === 'load_points'"-->
	<!--		[team]="team"-->
	<!--		[order]="order"-->
	<!--	>-->
	<!--	</sneat-order-shipping-points-card>-->

	<sneat-order-containers-card
		*ngIf="tab === 'containers'"
		[team]="team"
		[order]="order">
	</sneat-order-containers-card>

	<sneat-order-segments *ngIf="tab === 'segments'"
												[team]="team"
												[order]="order">
	</sneat-order-segments>

	<sneat-order-truckers *ngIf="tab === 'truckers'"
												[team]="team"
												[order]="order"
	></sneat-order-truckers>

	<sneat-dispatchers *ngIf="tab === 'dispatchers'"
										 [order]="order"
	></sneat-dispatchers>

	<div style="min-height: 100px">
	</div>
</ion-content>
