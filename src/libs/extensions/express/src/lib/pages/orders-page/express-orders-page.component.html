<ion-header>
	<ion-toolbar color="light">
		<ion-buttons slot="start">
			<ion-back-button defaultHref="/space/{{team?.type}}/{{team?.id}}"></ion-back-button>
		</ion-buttons>
		<ion-title>Orders</ion-title>
		<ion-buttons slot="end">
			<ion-button color="primary" routerLink="../new-order">
				<ion-icon name="add-outline" slot="start"></ion-icon>
				<ion-label>New</ion-label>
			</ion-button>
		</ion-buttons>
	</ion-toolbar>
</ion-header>

<ion-content>

	<div class="ion-padding-horizontal">
		<ion-segment [(ngModel)]="type">
			<ion-segment-button value="">All</ion-segment-button>
			<ion-segment-button value="export">Export</ion-segment-button>
			<ion-segment-button value="import">Import</ion-segment-button>
			<ion-segment-button value="internal">Internal</ion-segment-button>
		</ion-segment>
	</div>

	<ion-card>
		<ion-item color="light">
			<ion-label style="font-weight: bold">Filter
				<ion-text *ngIf="refNumber" color="medium"> | Ref #</ion-text>
			</ion-label>
			<ion-input placeholder="ref #" [(ngModel)]="refNumber" (ionChange)="refNumberChanged($event)"></ion-input>
			<ion-buttons slot="end" *ngIf="refNumber || isRefNumberChanged">
				<ion-button *ngIf="isRefNumberChanged"
										fill="solid"
										color="primary"
										(click)="findByRefNumber($event)">
					Find {{refNumber}}:{{isRefNumberChanged}}
				</ion-button>
				<ion-button *ngIf="!isRefNumberChanged" color="danger"
										title="Clear filter"
										(click)="clearRefNumber($event)">
					<ion-icon name="close-outline"></ion-icon>
				</ion-button>
			</ion-buttons>
		</ion-item>
		<sneat-contact-input
			label="Counterparty"
			[labelPosition]="'stacked'"
			[canReset]="true"
			[team]="team"
			[contact]="contactByRole['consignee']"
			(contactChange)="onFilterContactChanged('consignee', $event)"
		></sneat-contact-input>
		<sneat-country-input label="Destination country" [(countryID)]="countryDestination"></sneat-country-input>
		<sneat-country-input label="Origin country" [(countryID)]="countryDestination"></sneat-country-input>
	</ion-card>

	<ion-segment [(ngModel)]="status" color="dark">
		<ion-segment-button value="draft">Drafts</ion-segment-button>
		<ion-segment-button value="active">Active</ion-segment-button>
		<ion-segment-button value="complete">Complete</ion-segment-button>
		<ion-segment-button value="canceled">Canceled</ion-segment-button>
	</ion-segment>

	<sneat-express-orders-list [team]="team" [orders]="orders" style="margin-bottom: 50px;"></sneat-express-orders-list>

</ion-content>
