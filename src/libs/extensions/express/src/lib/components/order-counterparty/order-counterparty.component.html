<ion-row>
	<ion-col size="7">
		<sneat-express-order-counterparty-input
			[team]="team"
			[order]="order"
			[readonly]="readonly"
			[counterpartyRole]="counterpartyRole"
			[labelPosition]="labelPosition"
		></sneat-express-order-counterparty-input>
	</ion-col>
	<ion-col size="5" *ngIf="counterparty">
		<ion-item class="sneat-no-end-padding">
			<ion-label color="medium">Ref #</ion-label>
			<ion-input [readonly]="readonly"
								 [(ngModel)]="refNumber"
								 [disabled]="savingRefNumber"
								 (ionChange)="onRefNumberChanged($event)"
								 (keyup.enter)="saveRefNumber($event)"
			></ion-input>
			<ion-buttons slot="end">
				<ion-button color="medium" *ngIf="isRefNumberChanged && !savingRefNumber"
										title="Cancel Reference # changes"
										(click)="cancelRefNumberChanges($event)">
					<ion-icon name="close-outline"></ion-icon>
				</ion-button>
				<ion-button *ngIf="savingRefNumber" [disabled]="true">
					<ion-spinner name="lines-small"></ion-spinner>
				</ion-button>
				<ion-button *ngIf="isRefNumberChanged"
										[color]="savingRefNumber ? 'medium' : 'success'"
										[disabled]="savingRefNumber"
										title="Save Reference # changes"
										(click)="saveRefNumber($event)">
					<ion-icon name="save-outline"></ion-icon>
				</ion-button>
				<ion-button *ngIf="refNumber"
										color="medium" title="Copy reference number to clipboard"
										(click)="copyRefNumberToClipboard($event)">
					<ion-icon name="clipboard-outline" slot="start"></ion-icon>
				</ion-button>
			</ion-buttons>
		</ion-item>
	</ion-col>
</ion-row>

