<ion-item-group>
	<ion-item-divider color="medium">
		<ion-label>Container #{{i + 1}} - <b>{{container?.type}}</b></ion-label>
		<ion-buttons slot="end">
			<ion-button (click)="delete($event)" *ngIf="!containerFormGroup.dirty">
				<ion-label>Delete</ion-label>
				<ion-icon name="close-outline" slot="end"></ion-icon>
			</ion-button>
			<ion-button *ngIf="containerFormGroup.dirty" (click)="save($event)">
				<ion-icon slot="start" name="save-outline"></ion-icon>
				<ion-label>Save</ion-label>
			</ion-button>
			<ion-button *ngIf="containerFormGroup.dirty" (click)="cancelEditing($event)">
				<ion-label>Cancel</ion-label>
			</ion-button>
		</ion-buttons>
	</ion-item-divider>
	<ion-grid class="ion-grid-layout">
		<ion-row>
			<ion-col size="12" size-xl="3" size-sm="6">
				<ion-item class="sneat-no-end-padding">
					<ion-label color="medium">Serial #</ion-label>
					<ion-input
						placeholder="optional"
						style="font-weight: bold"
						[formGroup]="containerFormGroup"
						[formControl]="number"
						(keyup.enter)="save($event)"
					></ion-input>
					<ion-buttons slot="end">
						<ion-button color="medium" *ngIf="number.value && !number.dirty">
							<ion-icon name="copy-outline"></ion-icon>
						</ion-button>
						<ion-button color="medium" *ngIf="number.dirty" (click)="save($event)">
							<ion-icon name="save-outline"></ion-icon>
						</ion-button>
					</ion-buttons>
				</ion-item>
			</ion-col>
			<ion-col size="12" size-xl="3" size-sm="6">
				<ion-item>
					<ion-label color="medium">Pallets</ion-label>
					<ion-input readonly [value]="container?.numberOfPallets"></ion-input>
				</ion-item>
			</ion-col>
			<ion-col size="12" size-xl="3" size-sm="6">
				<ion-item>
					<ion-label color="medium">Gross (kg)</ion-label>
					<ion-input readonly [value]="container?.grossWeightKg"></ion-input>
				</ion-item>
			</ion-col>
			<ion-col size="12" size-xl="3" size-sm="6">
				<ion-item>
					<ion-label color="medium">Volume (m<sup>3</sup>)</ion-label>
					<ion-input readonly  [value]="container?.volumeM3" ></ion-input>
				</ion-item>
			</ion-col>
		</ion-row>
	</ion-grid>
	<ion-item-divider>
		<ion-label color="medium" style="font-weight: bold">
			<span>ðŸš› Trucking segments</span>
			<span *ngIf="segments && !segments?.length" style="font-weight: normal">&nbsp; - no segments have been added for the container</span>
		</ion-label>
		<ion-buttons slot="end">
			<ion-button title="Add transporting segment" (click)="addSegment()">
				<ion-icon name="add-outline" slot="start"></ion-icon>
				<ion-label>Add</ion-label>
			</ion-button>
		</ion-buttons>
	</ion-item-divider>

	<sneat-container-segment *ngFor="let segment of segments; trackBy:segmentID"
													 [order]="order"
													 [segment]="segment"
	></sneat-container-segment>
</ion-item-group>
