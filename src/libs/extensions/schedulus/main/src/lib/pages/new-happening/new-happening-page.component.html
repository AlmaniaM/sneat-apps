<ion-header>
	<ion-toolbar color="light" class="with-back-button">
		<ion-buttons slot="start">
			<ion-back-button [defaultHref]="defaultBackUrl"></ion-back-button>
		</ion-buttons>
		<ng-container *ngIf="!isToDo">
			<ion-title *ngIf="team else titleNoCommune">
				New happening @ {{team?.brief?.title}}
			</ion-title>
			<ng-template #titleNoCommune>New activity</ng-template>
		</ng-container>
		<ng-container *ngIf="isToDo">
			<ion-title *ngIf="team else titleNoCommune">
				New task @ {{team?.brief?.title}}
			</ion-title>
			<ng-template #titleNoCommune>New task</ng-template>
		</ng-container>
	</ion-toolbar>
</ion-header>

<ion-content class="cardy">

	<ion-segment class="ion-padding-horizontal" [(ngModel)]="happeningType" (ionChange)="onHappeningTypeChanged()">
		<ion-segment-button value="recurring">Recurring</ion-segment-button>
		<ion-segment-button value="single">One-timer</ion-segment-button>
		<!--				<ion-segment-button value="single" *ngIf="!isToDo">One-timer</ion-segment-button>-->
		<!--				<ion-segment-button value="single" *ngIf="isToDo">Once</ion-segment-button>-->
	</ion-segment>

	<sneat-happening-page-form #happeningPageFormComponent [team]="team"></sneat-happening-page-form>
</ion-content>
