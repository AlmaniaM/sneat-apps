<ion-card>
	<ion-accordion-group [value]="accordionValue" #accordionGroup [multiple]="false" (ionChange)="accordionChanged($event)" >
		<ion-accordion value="filter">
			<ion-item slot="header">
				<ion-icon name="search-outline" slot="start"></ion-icon>
				<ion-label color="medium">Filter</ion-label>
				<ion-input [formControl]="text"
									 (ionChange)="emitChanged()"
									 (click)="$event.stopPropagation()"
									 [placeholder]="expanded ? '— type to search' : '— type to search / click ᐯ at right to expand'"
				></ion-input>
				<ion-buttons slot="end" *ngIf="hasFilter">
					<ion-button (click)="clearFilter($event)" title="Clear filter">
						<ion-icon name="close-outline" color="medium"></ion-icon>
					</ion-button>
				</ion-buttons>
			</ion-item>
			<ion-item-group slot="content">

<!--				<ion-item>-->
<!--					<ion-checkbox (ionChange)="emitChanged()" slot="start"></ion-checkbox>-->
<!--					<ion-label>Myself</ion-label>-->
<!--				</ion-item>-->
				<ion-item-divider color="light" *ngIf="showWeekdays">Weekdays</ion-item-divider>
				<ion-grid class="ion-grid-layout" *ngIf="showWeekdays">
					<ion-row>
						<ion-col>
							<ion-item class="sneat-no-end-padding sneat-no-bottom-border">
								<ion-checkbox [formControl]="weekdayMo" (ionChange)="emitChanged()" slot="start"
															class="sneat-small-end-margin"></ion-checkbox>
								<ion-label>Mo</ion-label>
							</ion-item>
						</ion-col>
						<ion-col>
							<ion-item class="sneat-no-end-padding sneat-no-bottom-border">
								<ion-checkbox [formControl]="weekdayTu" (ionChange)="emitChanged()" slot="start"
															class="sneat-small-end-margin"></ion-checkbox>
								<ion-label>Tu</ion-label>
							</ion-item>
						</ion-col>
						<ion-col>
							<ion-item class="sneat-no-end-padding sneat-no-bottom-border">
								<ion-checkbox [formControl]="weekdayWe" (ionChange)="emitChanged()" slot="start"
															class="sneat-small-end-margin"></ion-checkbox>
								<ion-label>We</ion-label>
							</ion-item>
						</ion-col>
						<ion-col>
							<ion-item class="sneat-no-end-padding sneat-no-bottom-border">
								<ion-checkbox [formControl]="weekdayTh" (ionChange)="emitChanged()" slot="start"
															class="sneat-small-end-margin"></ion-checkbox>
								<ion-label>Th</ion-label>
							</ion-item>
						</ion-col>
						<ion-col>
							<ion-item class="sneat-no-end-padding sneat-no-bottom-border">
								<ion-checkbox [formControl]="weekdayFr" (ionChange)="emitChanged()" slot="start"
															class="sneat-small-end-margin"></ion-checkbox>
								<ion-label>Fr</ion-label>
							</ion-item>
						</ion-col>
						<ion-col>
							<ion-item class="sneat-no-end-padding sneat-no-bottom-border">
								<ion-checkbox [formControl]="weekdaySa" (ionChange)="emitChanged()" slot="start"
															class="sneat-small-end-margin"></ion-checkbox>
								<ion-label>Sa</ion-label>
							</ion-item>
						</ion-col>
						<ion-col>
							<ion-item class="sneat-no-end-padding sneat-no-bottom-border">
								<ion-checkbox [formControl]="weekdaySu" (ionChange)="emitChanged()" slot="start"
															class="sneat-small-end-margin"></ion-checkbox>
								<ion-label>Su</ion-label>
							</ion-item>
						</ion-col>
					</ion-row>
				</ion-grid>
				<ion-item-divider *ngIf="showRepeats" color="light">Repeats</ion-item-divider>
				<ion-grid *ngIf="showRepeats" class="ion-grid-layout">
					<ion-row>
						<ion-col>
							<ion-item class="sneat-no-end-padding sneat-no-bottom-border">
								<ion-checkbox value="weekly" [formControl]="repeatWeekly"  (ionChange)="repeatChanged($event)" slot="start" class="sneat-small-end-margin"></ion-checkbox>
								<ion-label>Weekly</ion-label>
							</ion-item>
						</ion-col>
						<ion-col>
							<ion-item class="sneat-no-end-padding sneat-no-bottom-border">
								<ion-checkbox value="monthly" [formControl]="repeatMonthly"  (ionChange)="repeatChanged($event)" slot="start" class="sneat-small-end-margin"></ion-checkbox>
								<ion-label>Monthly</ion-label>
							</ion-item>
						</ion-col>
						<ion-col>
							<ion-item class="sneat-no-end-padding sneat-no-bottom-border">
								<ion-checkbox value="quarterly" [formControl]="repeatQuarterly" (ionChange)="repeatChanged($event)" slot="start" class="sneat-small-end-margin"></ion-checkbox>
								<ion-label>Quarterly</ion-label>
							</ion-item>
						</ion-col>
						<ion-col>
							<ion-item class="sneat-no-end-padding sneat-no-bottom-border">
								<ion-checkbox value="yearly" [formControl]="repeatYearly" (ionChange)="repeatChanged($event)" slot="start" class="sneat-small-end-margin"></ion-checkbox>
								<ion-label>Yearly</ion-label>
							</ion-item>
						</ion-col>
					</ion-row>
				</ion-grid>

				<ng-container *ngIf="members && members.length <= 5; else manyMembers">
					<ion-item-divider color="light">Members</ion-item-divider>
					<ion-segment [(ngModel)]="memberID" color="dark" (ionChange)="onMemberChanged($event)">
						<ion-segment-button value="">Anyone</ion-segment-button>
						<ion-segment-button [value]="member.id" *ngFor="let member of members">
							<ion-label>{{member|memberTitle}}</ion-label>
						</ion-segment-button>
					</ion-segment>
				</ng-container>
				<ng-template #manyMembers></ng-template>
				<ion-item>
					<ion-label color="medium">Member</ion-label>
					<ion-select interface="popover" [(ngModel)]="memberID" (ionChange)="onMemberChanged($event)">
						<ion-select-option *ngFor="let member of members" [value]="member.id">
							{{member|memberTitle}}
						</ion-select-option>
					</ion-select>
				</ion-item>
			</ion-item-group>
		</ion-accordion>
	</ion-accordion-group>
</ion-card>
