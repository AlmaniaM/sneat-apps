<ion-item-divider color="light">
	<ion-label>When</ion-label>
	<ion-buttons slot="end">
		<ion-button title="Add slot" (click)="showSlotForm = true" color="primary">
			<ion-icon name="add-outline" slot="start"></ion-icon>
			<ion-label>Add slot</ion-label>
		</ion-button>
	</ion-buttons>
</ion-item-divider>
<ion-item *ngIf="slots && !slots?.length">
	<ion-label><i>No slots have been added yet.</i></ion-label>
</ion-item>
<ion-item button *ngFor="let slot of slots; trackBy: id" class="with-buttons" (click)="selectSlot(slot)">
	<ion-badge color="light" slot="start">{{slot.start.time}}</ion-badge>
	<ion-label text-wrap>
		<p>
			<ion-badge color="light" style="margin-right: 4px;"
								 *ngFor="let wd of slot.weekdays">{{wd|wdToWeekday}}</ion-badge>
		</p>
		<p *ngIf="slot.location && (slot.location.title || slot.location.address) else noLocation">
			@ {{slot.location.title || slot.location.address}},
			ends at {{slot.end?.time}}</p>
		<ng-template #noLocation>
			<p>Starts at {{slot.start.time}}
				<ng-container *ngIf="slot.end">, ends at {{slot.end.time}}</ng-container>
			</p>
		</ng-template>
	</ion-label>
	<ion-buttons slot="end">
		<ion-button (click)="removeSlot(slot)" color="medium">
			<ion-icon name="close"></ion-icon>
		</ion-button>
	</ion-buttons>
</ion-item>
<ion-modal [isOpen]="showSlotForm" (ionModalDidDismiss)="showSlotForm = false">
	<ng-template>
		<sneat-recurring-slot-form [happeningType]="'recurring'"
															 [isToDo]="false"
															 [slots]="slots"
															 (slotAdded)="onSlotAdded()"
		></sneat-recurring-slot-form>
	</ng-template>
</ion-modal>
