<ion-header>
	<ion-toolbar>
		<ion-buttons slot="start">
			<ion-back-button [defaultHref]="defaultBackUrl"></ion-back-button>
		</ion-buttons>
		<ion-title>Team member @ {{team?.dto?.title || 'Team'}}</ion-title>
	</ion-toolbar>
</ion-header>

<ion-content class="cardy">
	<ion-progress-bar *ngIf="!team" type="indeterminate"></ion-progress-bar>
	<form>
		<ion-item>
			<ion-avatar slot="start" *ngIf="member?.brief?.avatar">
				<ion-img
					title="avatar"
					*ngIf="member?.brief?.avatar?.gravatar"
					src="//www.gravatar.com/avatar/{{ member?.brief?.avatar?.gravatar }}"
				></ion-img>
				<ion-img
					title="avatar"
					*ngIf="member?.brief?.avatar?.external"
					[src]="member?.brief?.avatar?.external?.url"
				></ion-img>
			</ion-avatar>
			<ion-avatar slot="start" *ngIf="!!member?.brief && !member?.brief?.avatar">
				<ion-img
					title="avatar"
					src="//www.gravatar.com/avatar/{{ member?.id }}.gravatar"
				></ion-img>
			</ion-avatar>
			<ion-label position="stacked">Name</ion-label>
			<ion-input
				readonly
				*ngIf="member?.brief"
				[value]="member?.brief?.title"
			></ion-input>
		</ion-item>
		<ion-item>
			<ion-label position="stacked">Email</ion-label>
			<ion-input readonly type="email"></ion-input>
		</ion-item>
		<ion-item>
			<ion-label>
				Role
				<ion-spinner
					name="lines-small"
					*ngIf="changing === 'role'"
				></ion-spinner>
			</ion-label>
			<ion-select
				name="role"
				interface="popover"
				(ionChange)="changeRole($event)"
			>
<!--				[value]="memberInfo?.roles && memberInfo?.roles[0]"-->
				<ion-select-option value="contributor">Contributor</ion-select-option>
				<ion-select-option value="spectator">Spectator</ion-select-option>
			</ion-select>
		</ion-item>
	</form>
</ion-content>
