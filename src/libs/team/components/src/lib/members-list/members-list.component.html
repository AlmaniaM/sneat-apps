<ion-item-sliding *ngIf="!team?.dto">
	<ion-item>
		<ion-avatar slot="start" style="opacity: 0.3">
			<ion-img
				title="avatar"
				src="//www.gravatar.com/avatar/gravatar"
			></ion-img>
		</ion-avatar>
		<ion-skeleton-text style="width: 50%" animated></ion-skeleton-text>
	</ion-item>
</ion-item-sliding>
<ion-item *ngIf="membersToDisplay && !membersToDisplay.length; else list">
	<ion-label color="medium">No members of this type: {{ role }}</ion-label>
</ion-item>
<ng-template #list>

	<ion-item-sliding
		[@addRemove]="'added'"
		*ngFor="let member of membersToDisplay; trackBy: id"
	>
		<ion-item tappable (click)="goMember(member)" class="sneat-tiny-end-padding">
			<ion-avatar *ngIf="member?.brief?.avatar as avatar; else memberIcon">
				<ion-img *ngIf="member.brief?.avatar?.external?.url"
								 title="avatar"
								 [src]="member.brief?.avatar?.external?.url"
				></ion-img>
				<ion-img *ngIf="member.brief?.avatar?.gravatar && !member.brief?.avatar?.external?.url"
								 title="avatar"
								 src="//www.gravatar.com/avatar/{{ member.brief?.avatar?.gravatar }}"
				></ion-img>
			</ion-avatar>
			<ng-template #memberIcon>
				<ion-icon slot="start" [name]="genderIcon(member)"></ion-icon>
			</ng-template>
			<ion-label>
				{{ member?.brief?.shortTitle || member.brief?.title || member.dto?.title }}
				<ng-container *ngIf="role === null">
					<ion-badge
						*ngFor="let role of member.brief?.roles"
						class="ion-margin-start sneat-team-member-role"
						[color]="role === 'contributor' ? 'primary' : 'medium'"
					>
						{{ role }}
					</ion-badge>
				</ng-container>
			</ion-label>
			<ion-buttons slot="end">
				<!--				<ion-button *ngIf="!member.brief?.uid">-->
				<!--					<ion-label>Invite!</ion-label>-->
				<!--				</ion-button>-->
				<ion-button (click)="goSchedule($event, member)">
					<ion-icon name="calendar-outline"></ion-icon>
				</ion-button>
				<ion-button color="danger" *ngIf="!member.brief?.userID && member.brief?.email">
					<ion-label>Resend invite</ion-label>
				</ion-button>
			</ion-buttons>
		</ion-item>
		<ion-item-options side="start">
			<ion-item-option color="danger" (click)="removeMember($event, member)"
			>Remove
			</ion-item-option
			>
		</ion-item-options>
		<ion-item-options side="end">
			<ion-item-option color="danger" (click)="removeMember($event, member)"
			>Remove
			</ion-item-option
			>
		</ion-item-options>
	</ion-item-sliding>
</ng-template>
<!--<ion-item tappable (click)="goAddMember()" [ngSwitch]="role">-->
<!--	<ion-icon slot="start" name="add-outline"></ion-icon>-->
<!--	<ion-label color="medium" *ngSwitchCase="'contributor'">New contributor</ion-label>-->
<!--	<ion-label color="medium" *ngSwitchCase="'spectator'">New spectator</ion-label>-->
<!--	<ion-label color="medium" *ngSwitchDefault>New member</ion-label>-->
<!--</ion-item>-->
